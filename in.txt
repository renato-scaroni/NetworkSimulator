# Cria hosts
set h0 [$simulator host]
set h1 [$simulator host]
set h2 [$simulator host]
set h3 [$simulator host]

# Cria routers
set r0 [$simulator router 3]
set r1 [$simulator router 3]

# Cria Links
$simulator duplex-link $h0 $r0.0 10Mbps 10ms
$simulator duplex-link $h1 $r0.1 5Mbps 2ms
$simulator duplex-link $r0.2 $r1.0 2Mbps 20ms
$simulator duplex-link $r1.1 $h2 10Mbps 5ms
$simulator duplex-link $r1.2 $h3 5Mbps 2ms

#Configura Hosts
$simulator $h0 10.0.0.1 10.0.0.2 192.168.1.1
$simulator $h1 10.1.1.1 10.1.1.2 192.168.1.1
$simulator $h2 192.168.2.2 192.168.2.3 192.168.1.1
$simulator $h3 192.168.1.1 192.168.1.2 1.1.1.1

# Configurac ̧ ̃ao dos agentes da camada de aplicac ̧ ̃ao. h0 e h1 v ̃ao rodar
# clientes HTTP. h2 vai ser um servidor HTTP e h3 vai ser o servidor DNS
# Obs.: n ̃ao h ́ a necessidade de explicitar um cliente DNS. Todos os
# hosts j ́a tem um cliente DNS embutido
set httpc0 [new Agent/HTTPClient]
set httpc1 [new Agent/HTTPClient]
set https2 [new Agent/HTTPServer]
set dns3 [new Agent/DNSServer]
$simulator attach-agent $httpc0 $h0
$simulator attach-agent $httpc1 $h1
$simulator attach-agent $https2 $h2
$simulator attach-agent $dns3 $h3

